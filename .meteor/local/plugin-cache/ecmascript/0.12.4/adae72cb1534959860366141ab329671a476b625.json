{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/home/user/testHRMS-master/imports/shiftMgmt/shiftRoster/shiftAllotment/components/shiftAllot.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"imports/shiftMgmt/shiftRoster/shiftAllotment/components/shiftAllot.jsx","filename":"/home/user/testHRMS-master/imports/shiftMgmt/shiftRoster/shiftAllotment/components/shiftAllot.jsx","passPerPreset":false,"envName":"development","cwd":"/home/user/testHRMS-master","root":"/home/user/testHRMS-master","plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"_exploded":true,"_verified":true,"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-modules-commonjs","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-flow","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]},"ClassPrivateMethod":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/home/user/testHRMS-master/imports/shiftMgmt/shiftRoster/shiftAllotment/components/shiftAllot.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/shiftMgmt/shiftRoster/shiftAllotment/components/shiftAllot.jsx"}},"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar React, Component;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar ReactDOM;\nmodule.link(\"react-dom\", {\n  \"default\": function (v) {\n    ReactDOM = v;\n  }\n}, 1);\nvar withTracker;\nmodule.link(\"meteor/react-meteor-data\", {\n  withTracker: function (v) {\n    withTracker = v;\n  }\n}, 2);\nvar swal;\nmodule.link(\"sweetalert\", {\n  \"default\": function (v) {\n    swal = v;\n  }\n}, 3);\nvar ShiftSetting;\nmodule.link(\"/imports/shiftMgmt/shiftRoster/shiftAllotment/api/shiftSetting.js\", {\n  ShiftSetting: function (v) {\n    ShiftSetting = v;\n  }\n}, 4);\n\nvar ShiftAllot =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inheritsLoose2.default)(ShiftAllot, _Component);\n\n  function ShiftAllot(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n    var urlEmpId = FlowRouter.getParam(\"empid\");\n\n    if (urlEmpId) {\n      var action = \"Update\";\n    } else {\n      var action = \"Submit\";\n    }\n\n    _this.state = {\n      \"empId\": urlEmpId,\n      \"action\": action,\n      \"shiftName\": \"\",\n      \"startTime\": \"\",\n      \"startTimeAmPm\": \"\",\n      \"endTime\": \"\",\n      \"endTimeAmPm\": \"\",\n      \"effectiveFrom\": \"\",\n      \"tillDate\": \"\",\n      \"empID\": \"\",\n      \"Year\": \"\",\n      \"Month\": \"\",\n      \"isChecked\": false,\n      \"checked\": false,\n      \"weekdays\": \"\",\n      \"weekNum1\": \"\",\n      \"weekNum2\": \"\",\n      \"year\": \"\",\n      \"days\": []\n    };\n    return _this;\n  }\n\n  var _proto = ShiftAllot.prototype;\n\n  _proto.componentWillReceiveProps = function () {\n    function componentWillReceiveProps(nextProps) {\n      if (!nextProps.loading) {\n        if (nextProps.oneShiftData) {\n          this.setState({\n            \"shiftName\": nextProps.oneShiftData.shiftName,\n            \"startTime\": nextProps.oneShiftData.startTime,\n            \"startTimeAmPm\": nextProps.oneShiftData.startTimeAmPm,\n            \"endTime\": nextProps.oneShiftData.endTime,\n            \"endTimeAmPm\": nextProps.oneShiftData.endTimeAmPm,\n            \"effectiveFrom\": nextProps.oneShiftData.effectiveFrom,\n            \"tillDate\": nextProps.oneShiftData.tillDate\n          });\n        }\n      }\n    }\n\n    return componentWillReceiveProps;\n  }();\n\n  _proto.getDaysInMonth = function () {\n    function getDaysInMonth(month, year) {\n      return new Date(year, month, 0).getDate();\n    }\n\n    return getDaysInMonth;\n  }();\n\n  _proto.getDaysInWeek = function () {\n    function getDaysInWeek(week, year) {\n      return new Date(week, month, 0).getDate();\n    }\n\n    return getDaysInWeek;\n  }();\n\n  _proto.submitBasicInfo = function () {\n    function submitBasicInfo(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      var formValues = {\n        shiftName: this.refs.shiftName.value,\n        startTime: this.refs.startTime.value,\n        startTimeAmPm: this.refs.startTimeAmPm.value,\n        endTime: this.refs.endTime.value,\n        endTimeAmPm: this.refs.endTimeAmPm.value,\n        effectiveFrom: this.refs.effectiveFrom.value,\n        tillDate: this.refs.tillDate.value\n      };\n\n      if (this.state.action == \"Submit\") {\n        Meteor.call(\"insertBasicInfo\", formValues, function (error, result) {\n          if (error) {\n            console.log(\"Something went wrong! Error = \", error);\n          } else {\n            swal(\"Congrats!\", \"Your Information Submitted Successfully.\", \"success\");\n            console.log(\"latest id = \", result); // FlowRouter.go(\"/empProfile/\"+result);\n            // this.setState({\"inputValue\":\"\"});\n\n            $(\".modal-backdrop\").remove();\n          }\n        });\n      } else {\n        formValues._id = this.state.empId;\n        Meteor.call(\"updateBasicInfo\", formValues, function (error, result) {\n          if (error) {\n            console.log(\"Something went wrong! Error = \", error);\n          } else {\n            swal(\"Congrats!\", \"Employee Profile Updated Successfully.\", \"success\");\n            console.log(\"latest id = \", result);\n            FlowRouter.go(\"/empProfile/\" + _this2.state.empId);\n          }\n        });\n      }\n    }\n\n    return submitBasicInfo;\n  }();\n\n  _proto.handleChange = function () {\n    function handleChange(event) {\n      event.preventDefault();\n      this.setState({\n        \"shiftName\": this.refs.shiftName.value,\n        \"startTime\": this.refs.startTime.value,\n        \"startTimeAmPm\": this.refs.startTimeAmPm.value,\n        \"endTime\": this.refs.endTime.value,\n        \"endTimeAmPm\": this.refs.endTimeAmPm.value,\n        \"effectiveFrom\": this.refs.effectiveFrom.value,\n        \"tillDate\": this.refs.tillDate.value\n      });\n    }\n\n    return handleChange;\n  }();\n\n  _proto.deleteEmpProfile = function () {\n    function deleteEmpProfile(event) {\n      event.preventDefault();\n      var empId = event.currentTarget.id;\n      console.log(\"dd = \", empId);\n      swal({\n        title: \"Are you sure you want to delete?\",\n        text: \"Once deleted, you will not be able to recover this record!\",\n        icon: \"warning\",\n        buttons: true,\n        dangerMode: true\n      }).then(function (willDelete) {\n        if (willDelete) {\n          Meteor.call(\"deleteEmpProfile\", empId, function (error, result) {\n            if (error) {\n              swal(\"Something is Wrong\", \"Contact Your System Administrator\", \"error\");\n              console.log(error);\n            } else {\n              swal(\"Great!\", \"Delete is Successful!\", \"success\"); // FlowRouter.go(\"/empInfo\");\n            }\n          });\n        } else {\n          swal(\"This record is safe!\");\n        }\n      });\n    }\n\n    return deleteEmpProfile;\n  }();\n\n  _proto.passDate = function () {\n    function passDate(event) {\n      var _this3 = this;\n\n      event.preventDefault();\n      var date1 = this.refs.passDate.value;\n      console.log(\"date1 =\", date1);\n      var year1 = date1.split('-'); // console.log(\"Year=\",year1[0]);\n      // console.log(\"Month=\",year1[1]);\n\n      var empId1 = event.currentTarget.id;\n      this.setState({\n        Year: year1[0],\n        Month: year1[1]\n      }, function () {\n        console.log(\"year=\" + _this3.state.Year);\n        console.log(\"month=\" + _this3.state.Month);\n      });\n    }\n\n    return passDate;\n  }();\n\n  _proto.DayFromWeek = function () {\n    function DayFromWeek(event) {\n      var _this4 = this;\n\n      event.preventDefault();\n      var WeekFound = this.refs.DayFromWeek.value;\n      console.log(\"WeekFound =\", WeekFound);\n      var weekSplit = WeekFound.split('');\n      console.log(\"weekSplit\", weekSplit); // var WeekNum = moment(weekSplit[6]+weekSplit[7]).getDate().format('DD MM YYYY');\n      // console.log(\"WeekNum\",WeekNum)\n\n      var startDateOfWeek = moment(weekSplit[0] + weekSplit[1] + weekSplit[2] + weekSplit[3]).add(weekSplit[6] + weekSplit[7] - 1, 'weeks').startOf('isoweek');\n      var endDateOfWeek = moment(weekSplit[0] + weekSplit[1] + weekSplit[2] + weekSplit[3]).add(weekSplit[6] + weekSplit[7] - 1, 'weeks').endOf('isoweek');\n      this.setState({\n        startDateOfWeek: startDateOfWeek,\n        endDateOfWeek: endDateOfWeek\n      }, function () {\n        console.log(\"DatesOfWeek=\" + _this4.state.startDateOfWeek + \" \" + _this4.state.endDateOfWeek);\n        var week = \"DatesOfWeek=\" + _this4.state.startDateOfWeek + \" \" + _this4.state.endDateOfWeek;\n        var startOfWeek = _this4.state.startDateOfWeek;\n        var endOfWeek = _this4.state.endDateOfWeek;\n        console.log(\"startOfWeek :\", startOfWeek);\n        var days = [];\n        var day = startOfWeek;\n\n        while (day <= endOfWeek) {\n          days.push(day.toDate());\n          console.log(\"days\", days);\n          day = day.add(1, 'd');\n          console.log(\"day:\", day);\n        }\n\n        _this4.setState({\n          \"days\": days\n        }, function () {\n          console.log(\"days :\", _this4.state.days);\n        });\n      });\n    }\n\n    return DayFromWeek;\n  }();\n\n  _proto.displayEmpShiftHistory = function () {\n    function displayEmpShiftHistory(event) {\n      var _this5 = this;\n\n      event.preventDefault();\n      var empId1 = event.currentTarget.id;\n      this.setState({\n        empID: empId1\n      }, function () {\n        console.log(\"new empId\" + _this5.state.empID);\n      });\n    }\n\n    return displayEmpShiftHistory;\n  }();\n\n  _proto.getDateHeader = function () {\n    function getDateHeader() {\n      var MonthNum = this.state.Month ? this.state.Month : new Date().getMonth() + 1;\n      var YearNum = this.state.Year ? this.state.Year : new Date().getFullYear();\n      var count = this.getDaysInMonth(MonthNum, YearNum);\n      var tDates = [];\n\n      for (var i = 1; i <= count; i++) {\n        tDates.push(i);\n      }\n\n      return tDates; // console.log(\"tDates\",tDates)\n    }\n\n    return getDateHeader;\n  }();\n\n  _proto.getDatesHeader = function () {\n    function getDatesHeader() {\n      var MonthNum = this.state.Month ? this.state.Month : new Date().getMonth() + 1;\n      var YearNum = this.state.Year ? this.state.Year : new Date().getFullYear();\n      var count = 7;\n      var tDates = [];\n\n      for (var i = 1; i <= count; i++) {\n        tDates.push(i);\n      } // dateArray: [tDates]\n      // this.setState({\n      // \t'dateArray' :dateArray,\n      // },()=>{\n      // \tconsole.log(\"dateArray\",dateArray);\n      // })\n\n\n      return tDates;\n    }\n\n    return getDatesHeader;\n  }();\n\n  _proto.getDayHeader = function () {\n    function getDayHeader() {\n      var MonthNum = this.state.Month ? this.state.Month : new Date().getMonth() + 1;\n      var YearNum = this.state.Year ? this.state.Year : new Date().getFullYear();\n      console.log(\"M= \" + MonthNum);\n      console.log(\"Y= \" + YearNum);\n      var count = this.getDaysInMonth(MonthNum, YearNum);\n      var tDays = [];\n      var weekday = new Array(7);\n      weekday[0] = \"S\";\n      weekday[1] = \"M\";\n      weekday[2] = \"T\";\n      weekday[3] = \"W\";\n      weekday[4] = \"T\";\n      weekday[5] = \"F\";\n      weekday[6] = \"S\";\n\n      for (var i = 1; i <= count; i++) {\n        var day = new Date(YearNum, MonthNum - 1, i).getDay(); // console.log(\"day =\",day);\n\n        tDays.push(weekday[day]);\n      }\n\n      return tDays;\n    }\n\n    return getDayHeader;\n  }();\n\n  _proto.getDaysHeader = function () {\n    function getDaysHeader() {\n      var MonthNum = this.state.Month ? this.state.Month : new Date().getMonth() + 1;\n      var YearNum = this.state.Year ? this.state.Year : new Date().getFullYear();\n      console.log(\"M= \" + MonthNum);\n      console.log(\"Y= \" + YearNum);\n      var count = 7;\n      var tDays = [];\n      var weekday = new Array(7);\n      weekday[0] = \"S\";\n      weekday[1] = \"M\";\n      weekday[2] = \"T\";\n      weekday[3] = \"W\";\n      weekday[4] = \"T\";\n      weekday[5] = \"F\";\n      weekday[6] = \"S\";\n\n      for (var i = 1; i <= count; i++) {\n        var day = new Date(YearNum, MonthNum - 1, i).getDay(); // console.log(\"day =\",day);\n\n        tDays.push(weekday[day]);\n      }\n\n      return tDays;\n    }\n\n    return getDaysHeader;\n  }();\n\n  _proto.DayFromWeek = function () {\n    function DayFromWeek() {\n      var _this6 = this;\n\n      event.preventDefault();\n      var WeekFound = this.refs.DayFromWeek.value;\n      console.log(\"WeekFound =\", WeekFound);\n      var weekSplit = WeekFound.split('');\n      var startDateOfWeek = moment(weekSplit[0] + weekSplit[1] + weekSplit[2] + weekSplit[3]).add(weekSplit[6] + weekSplit[7] - 1, 'weeks').startOf('isoweek').format('DD MM YYYY');\n      var endDateOfWeek = moment(weekSplit[0] + weekSplit[1] + weekSplit[2] + weekSplit[3]).add(weekSplit[6] + weekSplit[7], 'weeks').startOf('week').format('DD MM YYYY');\n      this.setState({\n        startDateOfWeek: startDateOfWeek,\n        endDateOfWeek: endDateOfWeek\n      }, function () {\n        console.log(\"DatesOfWeek=\" + _this6.state.startDateOfWeek + \" \" + _this6.state.endDateOfWeek);\n      });\n    }\n\n    return DayFromWeek;\n  }();\n\n  _proto.nextDate = function () {\n    function nextDate(event) {\n      event.preventDefault();\n      var selectedWeek = $(\"input#weekdays\").val();\n      var newWeekDt = moment(selectedWeek).add(1, 'weeks').format(\"YYYY-MM-DD\");\n      var newWeekNumber = moment(newWeekDt).week(); //Construct the WeekNumber string as '2017-W01'\n\n      if (newWeekNumber <= 9) {\n        newWeekNumber = '0' + newWeekNumber;\n      }\n\n      var yearNum = moment(newWeekDt).format(\"YYYY\");\n      var newWeek = yearNum + \"-W\" + newWeekNumber;\n      this.setState({\n        weekdays: newWeek\n      });\n    }\n\n    return nextDate;\n  }();\n\n  _proto.previousDate = function () {\n    function previousDate(event) {\n      event.preventDefault();\n      var selectedWeek = $(\"input#weekdays\").val();\n      var newWeekDt = moment(selectedWeek).subtract(1, 'weeks').format(\"YYYY-MM-DD\");\n      var newWeekNumber = moment(newWeekDt).week(); //Construct the WeekNumber string as '2017-W01'\n\n      if (newWeekNumber <= 9) {\n        newWeekNumber = '0' + newWeekNumber;\n      } else if (newWeekNumber == 53) {\n        newWeekNumber = 52;\n      }\n\n      var yearNum = moment(newWeekDt).format(\"YYYY\");\n      var newWeek = yearNum + \"-W\" + newWeekNumber;\n      this.setState({\n        weekdays: newWeek\n      });\n    }\n\n    return previousDate;\n  }(); // db.find({'createdAt':{$gte: mondayInWeekDt, $lt: sundayOfWeekDt}}).fetch();\n\n\n  _proto.checkAll = function () {\n    function checkAll(event) {\n      var shiftCheck = event.target.getAttribute('data-index');\n      console.log(\"className of sel cb=\" + shiftCheck);\n\n      if (event.target.checked) {\n        $(\".\" + shiftCheck).prop(\"checked\", true);\n      } else {\n        $(\".\" + shiftCheck).prop(\"checked\", false);\n      }\n    }\n\n    return checkAll;\n  }();\n\n  _proto.deselectCheckbox = function () {\n    function deselectCheckbox(event) {\n      var shiftunCheck = event.target.getAttribute('data-index');\n\n      if (shiftunCheck) {\n        var splitval = shiftunCheck.split(' ');\n\n        if (splitval) {\n          console.log(\"event.target.checked\", event.target.checked);\n          console.log(\"shiftunCheck\", shiftunCheck); // var checkedValue = this.props.allChecked ? true : this.state.checked\n\n          if (!event.target.checked) {\n            $(\"#\" + splitval[0]).prop(\"checked\", false);\n            $(\"#\" + splitval[1]).prop(\"checked\", false);\n          } else {\n            $(\"#\" + splitval[0]).prop(\"checked\", true);\n            $(\"#\" + splitval[1]).prop(\"checked\", true);\n          }\n        }\n      }\n    }\n\n    return deselectCheckbox;\n  }();\n\n  _proto.render = function () {\n    function render() {\n      var _this7 = this;\n\n      var emp = this.state.empID;\n      var userData = ShiftSetting.find({\n        \"_id\": emp\n      }).fetch();\n      var empHead = this.props.allShift[0];\n\n      if (emp) {\n        if (emp.effectiveFrom == \"\") {\n          emp.effectiveFrom = \"-- NA --\";\n        }\n      }\n\n      var data = this.props.allShift;\n      return React.createElement(\"div\", {\n        className: \"row\"\n      }, React.createElement(\"div\", {\n        className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n      }, React.createElement(\"div\", {\n        className: \"container-fluid bg-warning\"\n      }, React.createElement(\"h3\", null, React.createElement(\"center\", null, React.createElement(\"b\", null, \"Shift Timing Setting\")))), React.createElement(\"div\", {\n        className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 row customMargin\"\n      }, React.createElement(\"p\", {\n        className: \"col-lg-2 col-md-3 col-sm-4 col-xs-4 row customMargin5\"\n      }, React.createElement(\"b\", null, \"Shift Planning for\")), React.createElement(\"div\", {\n        className: \" col-lg-1 col-md-1 col-sm-1 col-xs-4 input-group\"\n      }, React.createElement(\"span\", {\n        className: \"input-group-addon\"\n      }, React.createElement(\"i\", {\n        className: \"fa fa-calendar\"\n      })), React.createElement(\"input\", {\n        className: \"form-control\",\n        type: \"Month\",\n        ref: \"passDate\",\n        onChange: this.passDate.bind(this)\n      }), React.createElement(\"input\", {\n        className: \"form-control\",\n        type: \"week\",\n        ref: \"DayFromWeek\",\n        onChange: this.DayFromWeek.bind(this)\n      }))), React.createElement(\"table\", {\n        id: \"table-to-xls\",\n        className: \"table table-bordered table-hovered table-condensed\"\n      }, React.createElement(\"thead\", null, React.createElement(\"tr\", {\n        className: \"bg-primary\"\n      }, React.createElement(\"th\", {\n        className: \"text-center\",\n        rowSpan: \"3\"\n      }, \" Sr \"), React.createElement(\"th\", {\n        className: \"text-left\",\n        rowSpan: \"3\"\n      }, \" Employee Name \"), React.createElement(\"th\", {\n        className: \"text-center\",\n        rowSpan: \"3\"\n      }, \" SA \"), this.state.days.map(function (day, i) {\n        return React.createElement(\"th\", {\n          key: index\n        }, \" \", moment(day).format('DD'), \" \");\n      }), this.getDatesHeader().map(function (i, index) {\n        return React.createElement(\"th\", {\n          key: index\n        }, \" \", i, \" \");\n      })), React.createElement(\"tr\", {\n        className: \"bg-primary\"\n      }, this.getDaysHeader().map(function (i, index) {\n        return React.createElement(\"th\", {\n          key: index\n        }, \" \", i, \" \");\n      })), React.createElement(\"tr\", {\n        className: \"bg-primary\"\n      }, this.getDatesHeader().map(function (i, index) {\n        return React.createElement(\"th\", {\n          key: index,\n          className: \"checkboxContainer\"\n        }, \" \", React.createElement(\"input\", {\n          type: \"checkbox\",\n          id: \"D\" + i,\n          \"data-index\": \"D\" + i,\n          onChange: _this7.checkAll.bind(_this7)\n        }), React.createElement(\"span\", {\n          className: \"checkmark1 text-center\"\n        }), \" \");\n      }))), React.createElement(\"tbody\", null, this.props.allShift.map(function (emp, index) {\n        function empid() {\n          return index + 1;\n        }\n\n        ;\n        return React.createElement(\"tr\", {\n          key: index\n        }, React.createElement(\"td\", null, \" \", index + 1, \" \"), React.createElement(\"td\", {\n          className: \"text-left\",\n          \"data-toggle\": \"modal\",\n          \"data-target\": \"#empShiftHistory\",\n          onClick: _this7.displayEmpShiftHistory.bind(_this7)\n        }, \" \", emp.shiftName, \" \", emp.startTime, \" \", emp.startTimeAmPm, \" \"), React.createElement(\"td\", {\n          className: \"checkboxContainer\"\n        }, \" \", React.createElement(\"input\", {\n          type: \"checkbox\",\n          id: \"E\" + (index + 1),\n          \"data-index\": \"E\" + (index + 1),\n          onChange: _this7.checkAll.bind(_this7)\n        }), React.createElement(\"span\", {\n          className: \"checkmark1 text-center\"\n        }), \" \"), _this7.getDatesHeader().map(function (index, dt) {\n          return React.createElement(\"th\", {\n            key: dt,\n            className: \"checkboxContainer\"\n          }, \" \", React.createElement(\"input\", {\n            type: \"checkbox\",\n            className: \"E\" + empid() + \" D\" + (dt + 1),\n            align: \"center\",\n            name: \"check\",\n            \"data-index\": \"E\" + empid() + \" D\" + (dt + 1),\n            \"data-toggle\": \"modal\",\n            \"data-target\": \"#shiftChangeModal\",\n            onChange: _this7.deselectCheckbox.bind(_this7)\n          }), React.createElement(\"span\", {\n            className: \"checkmark1 text-center\"\n          }));\n        }));\n      }))), React.createElement(\"table\", {\n        id: \"table-to-xls\",\n        className: \"table table-bordered table-hovered table-condensed\"\n      }, React.createElement(\"thead\", null, React.createElement(\"tr\", {\n        className: \"bg-primary\"\n      }, React.createElement(\"th\", {\n        className: \"text-center\",\n        rowSpan: \"3\"\n      }, \" Sr \"), React.createElement(\"th\", {\n        className: \"text-left\",\n        rowSpan: \"3\"\n      }, \" Employee Name \"), React.createElement(\"th\", {\n        className: \"text-center\",\n        rowSpan: \"3\"\n      }, \" SA \"), this.getDateHeader().map(function (i, index) {\n        return React.createElement(\"th\", {\n          key: index\n        }, \" \", i, \" \");\n      })), React.createElement(\"tr\", {\n        className: \"bg-primary\"\n      }, this.getDayHeader().map(function (i, index) {\n        return React.createElement(\"th\", {\n          key: index\n        }, \" \", i, \" \");\n      })), React.createElement(\"tr\", {\n        className: \"bg-primary\"\n      }, this.getDateHeader().map(function (i, index) {\n        return React.createElement(\"th\", {\n          key: index,\n          className: \"checkboxContainer\"\n        }, \" \", React.createElement(\"input\", {\n          type: \"checkbox\",\n          id: \"D\" + i,\n          \"data-index\": \"D\" + i,\n          onChange: _this7.checkAll.bind(_this7)\n        }), React.createElement(\"span\", {\n          className: \"checkmark1 text-center\"\n        }), \" \");\n      }))), React.createElement(\"tbody\", null, this.props.allShift.map(function (emp, index) {\n        function empid() {\n          return index + 1;\n        }\n\n        ;\n        return React.createElement(\"tr\", {\n          key: index\n        }, React.createElement(\"td\", null, \" \", index + 1, \" \"), React.createElement(\"td\", {\n          className: \"text-left\",\n          \"data-toggle\": \"modal\",\n          \"data-target\": \"#empShiftHistory\",\n          onClick: _this7.displayEmpShiftHistory.bind(_this7)\n        }, \" \", emp.shiftName, \" \", emp.startTime, \" \", emp.startTimeAmPm, \" \"), React.createElement(\"td\", {\n          className: \"checkboxContainer\"\n        }, \" \", React.createElement(\"input\", {\n          type: \"checkbox\",\n          id: \"E\" + (index + 1),\n          \"data-index\": \"E\" + (index + 1),\n          onChange: _this7.checkAll.bind(_this7)\n        }), React.createElement(\"span\", {\n          className: \"checkmark1 text-center\"\n        }), \" \"), _this7.getDateHeader().map(function (index, dt) {\n          return React.createElement(\"th\", {\n            key: dt,\n            className: \"checkboxContainer\"\n          }, \" \", React.createElement(\"input\", {\n            type: \"checkbox\",\n            className: \"E\" + empid() + \" D\" + (dt + 1),\n            align: \"center\",\n            name: \"check\",\n            \"data-index\": \"E\" + empid() + \" D\" + (dt + 1),\n            \"data-toggle\": \"modal\",\n            \"data-target\": \"#shiftChangeModal\",\n            onChange: _this7.deselectCheckbox.bind(_this7)\n          }), React.createElement(\"span\", {\n            className: \"checkmark1 text-center\"\n          }));\n        }));\n      }))), React.createElement(\"div\", {\n        className: \"col-lg-12 row shiftText\"\n      }, React.createElement(\"b\", null, \"Change Shift\"), React.createElement(\"span\", {\n        className: \"mandatoryField\"\n      }, \"*\")), React.createElement(\"div\", {\n        className: \"col-lg-12 customMargin5 customPadding15\"\n      }, this.props.allShift.map(function (emp, index) {\n        return React.createElement(\"div\", {\n          key: index,\n          className: \"form-group col-lg-4 col-md-4 col-sm-6 col-xs-12 row customWidthTab customMargin25Right newBorder\"\n        }, React.createElement(\"div\", {\n          className: \"input-group\"\n        }, React.createElement(\"label\", {\n          className: \"radioContainer text-left\"\n        }, \"Shift \", emp.shiftName, React.createElement(\"input\", {\n          type: \"radio\",\n          name: \"radio\",\n          value: emp.shiftName\n        }), React.createElement(\"span\", {\n          className: \"checkmark\"\n        }))));\n      }), React.createElement(\"button\", {\n        className: \"col-lg-2 btn btn-primary customWidthBtn customBottomMargin30 customMargin15 pull-right\"\n      }, \" \", this.state.action, \" \"))), React.createElement(\"div\", {\n        className: \"modal fade\",\n        id: \"shiftChangeModal\",\n        role: \"dialog\"\n      }, React.createElement(\"div\", {\n        className: \"modal-dialog\"\n      }, React.createElement(\"div\", {\n        className: \"modal-content\"\n      }, React.createElement(\"div\", {\n        className: \"modal-header\"\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"close\",\n        \"data-dismiss\": \"modal\"\n      }, \"\\xD7\"), React.createElement(\"h3\", {\n        className: \"modal-title\"\n      }, React.createElement(\"b\", null, React.createElement(\"center\", null, \"Employee Shift Change\")))), React.createElement(\"div\", {\n        className: \"col-lg-12 customPadding15\"\n      }, React.createElement(\"div\", {\n        className: \"form-group col-lg-6 col-md-6 col-sm-6\"\n      }, React.createElement(\"div\", {\n        className: \"nameEmp\"\n      }, empHead ? empHead.shiftName : 'Alexander Piercy')), React.createElement(\"div\", {\n        className: \"form-group col-lg-6 col-md-6 col-sm-6\"\n      }, React.createElement(\"div\", {\n        className: \"input-group\"\n      }, React.createElement(\"input\", {\n        type: \"date\",\n        ref: \"date\",\n        className: \"form-control\",\n        value: this.state.Year,\n        onChange: this.handleChange.bind(this)\n      })))), React.createElement(\"div\", {\n        className: \"col-lg-6 shiftText\"\n      }, React.createElement(\"b\", null, \"Change Shift\"), React.createElement(\"span\", {\n        className: \"mandatoryField\"\n      }, \"*\")), React.createElement(\"div\", {\n        className: \"col-lg-12\"\n      }, this.props.allShift.map(function (emp, index) {\n        return React.createElement(\"div\", {\n          className: \"form-group col-lg-6 col-md-6 col-sm-6 customSideMargin newBorder\",\n          key: index\n        }, React.createElement(\"div\", {\n          className: \"input-group\"\n        }, React.createElement(\"label\", {\n          className: \"radioContainer text-left\"\n        }, \"Shift \", emp.shiftName, React.createElement(\"input\", {\n          type: \"radio\",\n          name: \"radio\",\n          value: emp.shiftName\n        }), React.createElement(\"span\", {\n          className: \"checkmark\"\n        }))));\n      })), React.createElement(\"div\", {\n        className: \"modal-footer\"\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        \"data-dismiss\": \"modal\",\n        className: \"col-lg-2 btn btn-primary pull-right\",\n        onClick: this.submitBasicInfo.bind(this)\n      }, \" \", this.state.action, \" \"))))), React.createElement(\"div\", {\n        className: \"radioContainer\"\n      }, React.createElement(\"div\", {\n        className: \"modal fade\",\n        id: \"empShiftHistory\",\n        role: \"dialog\"\n      }, React.createElement(\"div\", {\n        className: \"modal-dialog\"\n      }, React.createElement(\"div\", {\n        className: \"modal-content\"\n      }, React.createElement(\"div\", {\n        className: \"modal-header\"\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"close\",\n        \"data-dismiss\": \"modal\"\n      }, \"\\xD7\"), React.createElement(\"h3\", {\n        className: \"modal-title\"\n      }, React.createElement(\"b\", null, React.createElement(\"center\", null, \"Employee Shift History\")))), React.createElement(\"div\", {\n        className: \"modal-body\"\n      }, React.createElement(\"div\", {\n        className: \"col-lg-12\"\n      }, React.createElement(\"div\", {\n        className: \"form-group col-lg-3 col-md-3 col-sm-3\"\n      }), React.createElement(\"div\", {\n        className: \"form-group col-lg-9 col-md-9 col-sm-9\"\n      }, React.createElement(\"div\", {\n        className: \"form-group col-lg-9 col-md-9 col-sm-9\"\n      }, React.createElement(\"div\", {\n        className: \"nameEmp\"\n      }, \"(Emp Name)\"), React.createElement(\"div\", {\n        className: \"nameEmp\"\n      }, \"(Employee Id)\")), React.createElement(\"div\", {\n        className: \"col-lg-3 col-md-3 col-sm-3\"\n      }, React.createElement(\"img\", {\n        src: \"/images/male.png\",\n        className: \"userImg pull-right\"\n      })))), React.createElement(\"section\", {\n        className: \"modal-body\"\n      }, React.createElement(\"table\", {\n        id: \"table-to-xls\",\n        className: \"table table-bordered table-hovered table-striped\"\n      }, React.createElement(\"thead\", null, React.createElement(\"tr\", {\n        className: \"bg-primary\"\n      }, React.createElement(\"th\", {\n        className: \"text-center\"\n      }, \" Date \"), React.createElement(\"th\", {\n        className: \"text-center\"\n      }, \" Shift Name \"))), React.createElement(\"tbody\", null, this.props.allShift.map(function (emp, index) {\n        return React.createElement(\"tr\", {\n          key: index\n        }, React.createElement(\"td\", {\n          className: \"text-center\"\n        }, \" \", index + 1, \" \"), React.createElement(\"td\", {\n          id: emp._id,\n          className: \"text-center\",\n          \"data-toggle\": \"modal\",\n          \"data-target\": \"#empShiftHistory\",\n          onClick: _this7.displayEmpShiftHistory.bind(_this7)\n        }, \" \", emp.shiftName, \" \", emp.startTime, \" \", emp.startTimeAmPm, \" \"));\n      }))), React.createElement(\"div\", {\n        className: \"modal-footer\"\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-default\",\n        \"data-dismiss\": \"modal\"\n      }, \"Close\")))))))));\n    }\n\n    return render;\n  }();\n\n  return ShiftAllot;\n}(Component);\n\nmodule.exportDefault(ShiftAllotContainer = withTracker(function () {\n  var shiftSubHandle = Meteor.subscribe(\"allShiftData\");\n  var allShiftData = ShiftSetting.find({}).fetch() || [];\n  console.log(\"allShiftData :\", allShiftData);\n  return {\n    \"loading\": !shiftSubHandle.ready(),\n    \"allShift\": allShiftData\n  };\n})(ShiftAllot));","map":{"version":3,"sources":["imports/shiftMgmt/shiftRoster/shiftAllotment/components/shiftAllot.jsx"],"names":["React","Component","module","link","v","ReactDOM","withTracker","swal","ShiftSetting","ShiftAllot","props","urlEmpId","FlowRouter","getParam","action","state","componentWillReceiveProps","nextProps","loading","oneShiftData","setState","shiftName","startTime","startTimeAmPm","endTime","endTimeAmPm","effectiveFrom","tillDate","getDaysInMonth","month","year","Date","getDate","getDaysInWeek","week","submitBasicInfo","event","preventDefault","formValues","refs","value","Meteor","call","error","result","console","log","$","remove","_id","empId","go","handleChange","deleteEmpProfile","currentTarget","id","title","text","icon","buttons","dangerMode","then","willDelete","passDate","date1","year1","split","empId1","Year","Month","DayFromWeek","WeekFound","weekSplit","startDateOfWeek","moment","add","startOf","endDateOfWeek","endOf","startOfWeek","endOfWeek","days","day","push","toDate","displayEmpShiftHistory","empID","getDateHeader","MonthNum","getMonth","YearNum","getFullYear","count","tDates","i","getDatesHeader","getDayHeader","tDays","weekday","Array","getDay","getDaysHeader","format","nextDate","selectedWeek","val","newWeekDt","newWeekNumber","yearNum","newWeek","weekdays","previousDate","subtract","checkAll","shiftCheck","target","getAttribute","checked","prop","deselectCheckbox","shiftunCheck","splitval","render","emp","userData","find","fetch","empHead","allShift","data","bind","map","index","empid","dt","exportDefault","ShiftAllotContainer","shiftSubHandle","subscribe","allShiftData","ready"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { withTracker } from 'meteor/react-meteor-data';\nimport swal from 'sweetalert';\n\nimport { ShiftSetting } from '/imports/shiftMgmt/shiftRoster/shiftAllotment/api/shiftSetting.js';\n\n\nclass ShiftAllot extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tvar urlEmpId = FlowRouter.getParam(\"empid\");\n\t\tif(urlEmpId){\n\t\t\tvar action = \"Update\";\n\t\t}else{\n\t\t\tvar action = \"Submit\";\n\t\t}\n\n\tthis.state = {\n\t\t\t\"empId\" : urlEmpId,\n\t\t\t\"action\" : action,\n\t\t\t\"shiftName\": \"\",\n\t\t\t\"startTime\": \"\",\n\t\t\t\"startTimeAmPm\": \"\",\n\t\t\t\"endTime\": \"\",\n\t\t\t\"endTimeAmPm\": \"\",\n\t\t\t\"effectiveFrom\": \"\",\n\t\t\t\"tillDate\": \"\",\n\t\t\t\"empID\": \"\",\n\t\t\t\"Year\": \"\",\n\t\t\t\"Month\": \"\",\n\t\t\t\"isChecked\": false,\n\t\t\t\"checked\": false,\n\t\t\t\"weekdays\": \"\",\n\t\t\t\"weekNum1\": \"\",\n\t\t\t\"weekNum2\": \"\",\n\t\t\t\"year\":\"\",\n\t\t\t\"days\"  : [],\n\n\t\t};\n\t}\t\n\n\tcomponentWillReceiveProps(nextProps) {\n  \tif(!nextProps.loading){\n      if(nextProps.oneShiftData){\n\t\t    this.setState({\n\t\t        \"shiftName\" \t\t: nextProps.oneShiftData.shiftName,\t        \n\t\t        \"startTime\" \t\t: nextProps.oneShiftData.startTime,\t        \n\t\t        \"startTimeAmPm\" \t: nextProps.oneShiftData.startTimeAmPm,\t        \n\t\t        \"endTime\" \t\t\t: nextProps.oneShiftData.endTime,\t        \n\t\t        \"endTimeAmPm\" \t\t: nextProps.oneShiftData.endTimeAmPm,\t        \n\t\t        \"effectiveFrom\" \t: nextProps.oneShiftData.effectiveFrom,\t   \n\t\t        \"tillDate\" \t\t\t: nextProps.oneShiftData.tillDate,\t   \n\t\t             \n\t\t    });\n\t\t  }\n\t\t}\n\t}\n\n\tgetDaysInMonth(month,year) {\n\t  return new Date(year, month, 0).getDate();\n\t};\n\n\tgetDaysInWeek(week,year) {\n\t  return new Date(week, month, 0).getDate();\n\t};\n\n\tsubmitBasicInfo(event){\n\t\tevent.preventDefault();\n\t\tvar formValues = {\n\t\t\tshiftName \t\t: this.refs.shiftName.value,\n\t\t\tstartTime \t\t: this.refs.startTime.value,\n\t\t\tstartTimeAmPm \t: this.refs.startTimeAmPm.value,\n\t\t\tendTime \t\t: this.refs.endTime.value,\n\t\t\tendTimeAmPm \t: this.refs.endTimeAmPm.value,\n\t\t\teffectiveFrom \t: this.refs.effectiveFrom.value,\t\n\t\t\ttillDate\t \t: this.refs.tillDate.value,\t\n\t\t};\n\n\t\tif(this.state.action == \"Submit\"){\n\t\t\t\tMeteor.call(\"insertBasicInfo\",formValues,\n\t\t\t\t\t\t\t\t\t\t\t(error,result)=>{\n\t\t\t\t\t\t\t\t\t\t\t\tif(error){\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"Something went wrong! Error = \", error);\n\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t\tswal(\"Congrats!\",\"Your Information Submitted Successfully.\",\"success\");\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"latest id = \",result);\n\t\t\t\t\t\t\t\t\t\t\t\t\t// FlowRouter.go(\"/empProfile/\"+result);\n\t\t\t\t\t\t\t\t\t\t\t\t\t// this.setState({\"inputValue\":\"\"});\n\t\t\t\t\t\t\t\t\t\t\t\t\t$(\".modal-backdrop\").remove();\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t});\t\n\t\t}else{\n\t\t\tformValues._id = this.state.empId;\n\t\t\tMeteor.call(\"updateBasicInfo\",formValues,\n\t\t\t\t\t\t\t\t\t\t(error,result)=>{\n\t\t\t\t\t\t\t\t\t\t\tif(error){\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"Something went wrong! Error = \", error);\n\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\tswal(\"Congrats!\",\"Employee Profile Updated Successfully.\",\"success\");\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"latest id = \",result);\n\t\t\t\t\t\t\t\t\t\t\t\tFlowRouter.go(\"/empProfile/\"+this.state.empId);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\t\n\t\t}\n\n\t}\n\n\thandleChange(event){\n\t\tevent.preventDefault();\n    this.setState({\n        \"shiftName\" \t\t: this.refs.shiftName.value,\t        \n        \"startTime\" \t\t: this.refs.startTime.value,\t        \n        \"startTimeAmPm\" \t: this.refs.startTimeAmPm.value,\t        \n        \"endTime\" \t\t\t: this.refs.endTime.value,\t        \n        \"endTimeAmPm\" \t\t: this.refs.endTimeAmPm.value,\t        \n        \"effectiveFrom\" \t: this.refs.effectiveFrom.value,\n        \"tillDate\"\t        : this.refs.tillDate.value,\n    \t});\n\n\t}\n\t\n\n\tdeleteEmpProfile(event){\n\t\tevent.preventDefault();\n\t\tvar empId = event.currentTarget.id;\n\t\t\n\t\tconsole.log(\"dd = \",empId);\n\t\tswal({\n\t\t  title     : \"Are you sure you want to delete?\",\n\t\t  text      : \"Once deleted, you will not be able to recover this record!\",\n\t\t  icon      : \"warning\",\n\t\t  buttons   : true,\n\t\t  dangerMode: true,\n\t\t})\n\t\t.then((willDelete) => {\n\t\t  if (willDelete) {\n\t\t\tMeteor.call(\"deleteEmpProfile\",empId,\n\t\t\t\t\t\t\t\t(error,result) => {\n\t\t\t\t\t\t\t\t\tif(error){\n\t\t\t\t\t\t\t\t\t\tswal(\"Something is Wrong\",\"Contact Your System Administrator\",\"error\");\n\t\t\t\t\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\tswal(\"Great!\",\"Delete is Successful!\",\"success\");\n\t\t\t\t\t\t\t\t\t\t// FlowRouter.go(\"/empInfo\");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t}else {\n\t\t    swal(\"This record is safe!\");\n\t\t  }\n\t\t});\n\t}\n\n\tpassDate(event){\n\t\tevent.preventDefault();\n\t\tvar date1 = this.refs.passDate.value;\n\t\tconsole.log(\"date1 =\",date1);\n\t\tvar year1 = date1.split('-');\n\t\t// console.log(\"Year=\",year1[0]);\n\t\t// console.log(\"Month=\",year1[1]);\n\n\t\tvar empId1 = event.currentTarget.id;\n\t\tthis.setState({\n\t\t\tYear:year1[0],\n\t\t\tMonth:year1[1],\n\t\t},()=>{\n\t\t\tconsole.log(\"year=\"+this.state.Year)\n\t\t\tconsole.log(\"month=\"+this.state.Month)\n\t\t});\n\n\t}\n\n\n\n\tDayFromWeek(event)\n\t{\t\n\t\tevent.preventDefault();\n\t\tvar WeekFound = this.refs.DayFromWeek.value;\n\t\tconsole.log(\"WeekFound =\",WeekFound);\n\t\tvar weekSplit = WeekFound.split('');\n\t\tconsole.log(\"weekSplit\",weekSplit)\n\t\t// var WeekNum = moment(weekSplit[6]+weekSplit[7]).getDate().format('DD MM YYYY');\n\t\t // console.log(\"WeekNum\",WeekNum)\n\t\tvar startDateOfWeek = moment(weekSplit[0]+weekSplit[1]+weekSplit[2]+weekSplit[3]).add((weekSplit[6]+weekSplit[7])-1, 'weeks').startOf('isoweek');\n\t\t\n\t\tvar endDateOfWeek = moment(weekSplit[0]+weekSplit[1]+weekSplit[2]+weekSplit[3]).add((weekSplit[6]+weekSplit[7])-1, 'weeks').endOf('isoweek');\n\n\t\tthis.setState({\n\t\t\tstartDateOfWeek:startDateOfWeek,\n\t\t\tendDateOfWeek:endDateOfWeek,\n\t\t},()=>{\n\t\t\tconsole.log(\"DatesOfWeek=\"+this.state.startDateOfWeek+\" \"+this.state.endDateOfWeek)\n\t\t\tvar week = (\"DatesOfWeek=\"+this.state.startDateOfWeek+\" \"+this.state.endDateOfWeek)\n\t\t\tvar startOfWeek = this.state.startDateOfWeek;\n\t\t\tvar endOfWeek   = this.state.endDateOfWeek;\n\t\t\tconsole.log(\"startOfWeek :\",startOfWeek);\n\t\t\tvar days = [];\n\t\t    var day = startOfWeek;\n\n\t\t\t\twhile (day <= endOfWeek) {\n\t\t\t\t    days.push(day.toDate());\n\t\t\t\t    console.log(\"days\",days);\n\t\t\t\t    day = day.add(1, 'd');\n\t\t\t\t    console.log(\"day:\",day);\n\t\t\t\t}\n\t\t\t\tthis.setState({\n\t\t\t\t\t\"days\" : days,\n\t\t\t\t},()=>{\n\t\t\t\t\tconsole.log(\"days :\",this.state.days)\n\t\t\t\t});\n\t\t\t});\n\n    }\n\n\tdisplayEmpShiftHistory(event){\n\t\tevent.preventDefault();\n\t\tvar empId1 = event.currentTarget.id;\n\t\tthis.setState({\n\t\t\tempID:empId1,\n\t\t},()=>{\n\t\t\tconsole.log(\"new empId\"+this.state.empID)\n\t\t});\n\t}\n\n\tgetDateHeader(){\n\t\tvar MonthNum = this.state.Month ? this.state.Month : (new Date().getMonth())+1;\n\t\tvar YearNum = this.state.Year ? this.state.Year : (new Date().getFullYear());\n\t\tvar count = this.getDaysInMonth(MonthNum,YearNum);\n\t\tvar tDates = [];\n\t\tfor(let i=1;i<=count;i++){\n\t\t\ttDates.push(i);\n\t\t}\n\t\treturn tDates;\n\t\t// console.log(\"tDates\",tDates)\n\t}\n\tgetDatesHeader(){\n\t\tvar MonthNum = this.state.Month ? this.state.Month : (new Date().getMonth())+1;\n\t\tvar YearNum = this.state.Year ? this.state.Year : (new Date().getFullYear());\n\t\tvar count = 7;\n\t\tvar tDates = [];\n\t\tfor(let i=1;i<=count;i++){\n\t\t\ttDates.push(i);\n\t\t}\n\t\t// dateArray: [tDates]\n\t\t// this.setState({\n\t\t// \t'dateArray' :dateArray,\n\t\t// },()=>{\n\t\t// \tconsole.log(\"dateArray\",dateArray);\n\t\t// })\n\t\treturn tDates;\n\n\t}\n\tgetDayHeader(){\n\t\tvar MonthNum = this.state.Month ? this.state.Month : (new Date().getMonth())+1;\n\t\tvar YearNum = this.state.Year ? this.state.Year : (new Date().getFullYear());\n\t\tconsole.log(\"M= \"+ MonthNum)\n\t\tconsole.log(\"Y= \"+ YearNum)\n\t\tvar count = this.getDaysInMonth(MonthNum,YearNum);\n\t\tvar tDays = [];\n\t\tvar weekday = new Array(7);\n\t\tweekday[0] = \"S\";\n\t\tweekday[1] = \"M\";\n\t\tweekday[2] = \"T\";\n\t\tweekday[3] = \"W\";\n\t\tweekday[4] = \"T\";\n\t\tweekday[5] = \"F\";\n\t\tweekday[6] = \"S\";\n\n\t\tfor(let i=1;i<=count;i++){\n\t\t\tvar day = new Date(YearNum,((MonthNum)-1),i).getDay();\n\t\t\t// console.log(\"day =\",day);\n\t\t\ttDays.push(weekday[day]);\n\t\t}\n\t\treturn tDays;\n\t}\n\tgetDaysHeader(){\n\t\tvar MonthNum = this.state.Month ? this.state.Month : (new Date().getMonth())+1;\n\t\tvar YearNum = this.state.Year ? this.state.Year : (new Date().getFullYear());\n\t\tconsole.log(\"M= \"+ MonthNum)\n\t\tconsole.log(\"Y= \"+ YearNum)\n\t\tvar count = 7;\n\t\tvar tDays = [];\n\t\tvar weekday = new Array(7);\n\t\tweekday[0] = \"S\";\n\t\tweekday[1] = \"M\";\n\t\tweekday[2] = \"T\";\n\t\tweekday[3] = \"W\";\n\t\tweekday[4] = \"T\";\n\t\tweekday[5] = \"F\";\n\t\tweekday[6] = \"S\";\n\n\t\tfor(let i=1;i<=count;i++){\n\t\t\tvar day = new Date(YearNum,((MonthNum)-1),i).getDay();\n\t\t\t// console.log(\"day =\",day);\n\t\t\ttDays.push(weekday[day]);\n\t\t}\n\t\treturn tDays;\n\t}\n\n\n\n\n\n\tDayFromWeek()\n\t{\t\n\t\tevent.preventDefault();\n\t\tvar WeekFound = this.refs.DayFromWeek.value;\n\t\tconsole.log(\"WeekFound =\",WeekFound);\n\t\tvar weekSplit = WeekFound.split('');\n\n\t\tvar startDateOfWeek = moment(weekSplit[0]+weekSplit[1]+weekSplit[2]+weekSplit[3]).add((weekSplit[6]+weekSplit[7])-1, 'weeks').startOf('isoweek').format('DD MM YYYY');\n\t\tvar endDateOfWeek = moment(weekSplit[0]+weekSplit[1]+weekSplit[2]+weekSplit[3]).add((weekSplit[6]+weekSplit[7]), 'weeks').startOf('week').format('DD MM YYYY');\n\n\t\tthis.setState({\n\t\t\tstartDateOfWeek:startDateOfWeek,\n\t\t\tendDateOfWeek:endDateOfWeek,\n\t\t},()=>{\n\t\t\tconsole.log(\"DatesOfWeek=\"+this.state.startDateOfWeek+\" \"+this.state.endDateOfWeek)\n\t\t});\n\n    }\n\n\tnextDate(event){\n\t\tevent.preventDefault();\n\t\tvar selectedWeek = $(\"input#weekdays\").val();\n\t\tvar newWeekDt = moment(selectedWeek).add(1, 'weeks').format(\"YYYY-MM-DD\");\n\t\tvar newWeekNumber = moment(newWeekDt).week();\n\t\t//Construct the WeekNumber string as '2017-W01'\n\t\tif(newWeekNumber <= 9){\n\t\tnewWeekNumber = '0'+newWeekNumber;\n\t\t}\n\t\tvar yearNum=moment(newWeekDt).format(\"YYYY\");\n\t\tvar newWeek = yearNum+\"-W\"+newWeekNumber;\n\t\tthis.setState({\n\t\tweekdays:newWeek,\n\t\t});\n    }\n\n    previousDate(event){\n      event.preventDefault();\n      var selectedWeek = $(\"input#weekdays\").val();\n      var newWeekDt = moment(selectedWeek).subtract(1, 'weeks').format(\"YYYY-MM-DD\");\n      var newWeekNumber = moment(newWeekDt).week();\n      //Construct the WeekNumber string as '2017-W01'\n      if(newWeekNumber <= 9){\n        newWeekNumber = '0'+newWeekNumber;\n      }else if(newWeekNumber == 53){\n        newWeekNumber = 52;\n      }\n      var yearNum = moment(newWeekDt).format(\"YYYY\");\n      var newWeek = yearNum+\"-W\"+newWeekNumber;\n      this.setState({\n          weekdays:newWeek,\n      });\n    }\n\n\n// db.find({'createdAt':{$gte: mondayInWeekDt, $lt: sundayOfWeekDt}}).fetch();\n\n\n\tcheckAll(event){\n\t\tvar shiftCheck = event.target.getAttribute('data-index');\n\t\tconsole.log(\"className of sel cb=\"+shiftCheck)\n\t\tif(event.target.checked){\n\t\t\t$(\".\"+shiftCheck).prop(\"checked\",true);\n\t\t}else{\n\t\t\t$(\".\"+shiftCheck).prop(\"checked\",false);\n\t\t}\n\t}\n\n\tdeselectCheckbox(event){\n    \tvar shiftunCheck = event.target.getAttribute('data-index');\n    \tif (shiftunCheck) {\n          var splitval  = shiftunCheck.split(' ');\n          if (splitval) {\n\n\t    \tconsole.log(\"event.target.checked\",event.target.checked);\n\t    \tconsole.log(\"shiftunCheck\",shiftunCheck);\n\t    \t// var checkedValue = this.props.allChecked ? true : this.state.checked\n\t\t \tif(!event.target.checked){\n\t\t \t\t$(\"#\"+splitval[0]).prop(\"checked\",false);\n\t\t \t\t$(\"#\"+splitval[1]).prop(\"checked\",false);\n\t\t \t}else{\n\t\t \t\t$(\"#\"+splitval[0]).prop(\"checked\",true);\n\t\t \t\t$(\"#\"+splitval[1]).prop(\"checked\",true);\n\t\t \t}\n\n\n          }\n    \t}\n\t}\n\t\n\trender(){\n\n\t\tvar emp = this.state.empID;\n\t\tvar userData = ShiftSetting.find({\"_id\":emp}).fetch();\n\t\tvar empHead = this.props.allShift[0];\n\t\tif(emp){\n\t\t\tif(emp.effectiveFrom==\"\"){\n\t\t\t\temp.effectiveFrom = \"-- NA --\";\n\t\t\t}\n\t\t}\n\n\t\tconst data = this.props.allShift;\n\n\t\t\treturn (\n\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div className=\"container-fluid bg-warning\">\n\t\t\t\t    \t\t<h3><center><b>Shift Timing Setting</b></center></h3>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 row customMargin\">\n\t\t\t\t    \t\t<p className=\"col-lg-2 col-md-3 col-sm-4 col-xs-4 row customMargin5\"><b>Shift Planning for</b></p>\n\t\t\t\t    \t\t<div className=\" col-lg-1 col-md-1 col-sm-1 col-xs-4 input-group\">\n\t\t\t\t\t    \t\t<span className=\"input-group-addon\"><i className=\"fa fa-calendar\"></i></span>\n\t\t\t\t\t    \t\t<input className=\"form-control\" type=\"Month\" ref=\"passDate\" onChange={this.passDate.bind(this)}/>\n\t\t\t\t\t    \t\t<input className=\"form-control\" type=\"week\" ref=\"DayFromWeek\" onChange={this.DayFromWeek.bind(this)}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<table id=\"table-to-xls\" className=\"table table-bordered table-hovered table-condensed\">\n\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t<tr className=\"bg-primary\"> \n\t\t\t\t\t\t\t\t\t<th className=\"text-center\" rowSpan=\"3\"> Sr </th> \n\t\t\t\t\t\t\t\t\t<th className=\"text-left\" rowSpan=\"3\"> Employee Name </th> \n\t\t\t\t\t\t\t\t\t<th className=\"text-center\" rowSpan=\"3\"> SA </th> \n\t\t\t\t\t\t\t\t\t{this.state.days.map(\n\t\t\t\t\t\t\t\t\t\t(day,i) => {return (<th key={index}> {moment(day).format('DD')} </th>)}\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{this.getDatesHeader().map(\n\t\t\t\t\t\t\t\t\t\t(i, index)=>{return (<th key={index}> {i} </th>)}\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr className=\"bg-primary\"> \n\t\t\t\t\t\t\t\t\t{this.getDaysHeader().map(\n\t\t\t\t\t\t\t\t\t\t(i, index)=>{return (<th key={index}> {i} </th>)}\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr className=\"bg-primary\"> \n\t\t\t\t\t\t\t\t\t{this.getDatesHeader().map(\n\t\t\t\t\t\t\t\t\t\t(i,index)=>{return (<th key={index} className=\"checkboxContainer\"> <input type=\"checkbox\" id={\"D\"+i} data-index={\"D\"+i} onChange={this.checkAll.bind(this)} /><span className=\"checkmark1 text-center\"></span> </th>)}\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{this.props.allShift.map((emp,index)=>{\n\t\t\t\t\t\t\t\t\t\tfunction empid(){return index+1} ;\n\n\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t<td> {index+1} </td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-left\" data-toggle=\"modal\" data-target=\"#empShiftHistory\" onClick={this.displayEmpShiftHistory.bind(this)} > {emp.shiftName} {emp.startTime} {emp.startTimeAmPm} </td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"checkboxContainer\"> <input type=\"checkbox\" id={\"E\"+(index+1)} data-index={\"E\"+(index+1)} onChange={this.checkAll.bind(this)} /><span className=\"checkmark1 text-center\"></span> </td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.getDatesHeader().map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(index,dt)=>{return (<th key={dt} className=\"checkboxContainer\"> <input type=\"checkbox\" className={\"E\"+empid()+\" D\"+(dt+1)} align=\"center\" name=\"check\" data-index={\"E\"+empid()+\" D\"+(dt+1)} data-toggle=\"modal\" data-target=\"#shiftChangeModal\"  onChange={this.deselectCheckbox.bind(this)}/><span className=\"checkmark1 text-center\"></span></th>)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\n\t\t\t\t\t\t<table id=\"table-to-xls\" className=\"table table-bordered table-hovered table-condensed\">\n\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t<tr className=\"bg-primary\"> \n\t\t\t\t\t\t\t\t\t<th className=\"text-center\" rowSpan=\"3\"> Sr </th> \n\t\t\t\t\t\t\t\t\t<th className=\"text-left\" rowSpan=\"3\"> Employee Name </th> \n\t\t\t\t\t\t\t\t\t<th className=\"text-center\" rowSpan=\"3\"> SA </th> \n\t\t\t\t\t\t\t\t\t{this.getDateHeader().map(\n\t\t\t\t\t\t\t\t\t\t(i, index)=>{return (<th key={index}> {i} </th>)}\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr className=\"bg-primary\"> \n\t\t\t\t\t\t\t\t\t{this.getDayHeader().map(\n\t\t\t\t\t\t\t\t\t\t(i, index)=>{return (<th key={index}> {i} </th>)}\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr className=\"bg-primary\"> \n\t\t\t\t\t\t\t\t\t{this.getDateHeader().map(\n\t\t\t\t\t\t\t\t\t\t(i,index)=>{return (<th key={index} className=\"checkboxContainer\"> <input type=\"checkbox\" id={\"D\"+i} data-index={\"D\"+i} onChange={this.checkAll.bind(this)} /><span className=\"checkmark1 text-center\"></span> </th>)}\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{this.props.allShift.map((emp,index)=>{\n\t\t\t\t\t\t\t\t\t\tfunction empid(){return index+1} ;\n\n\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t<td> {index+1} </td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-left\" data-toggle=\"modal\" data-target=\"#empShiftHistory\" onClick={this.displayEmpShiftHistory.bind(this)} > {emp.shiftName} {emp.startTime} {emp.startTimeAmPm} </td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"checkboxContainer\"> <input type=\"checkbox\" id={\"E\"+(index+1)} data-index={\"E\"+(index+1)} onChange={this.checkAll.bind(this)} /><span className=\"checkmark1 text-center\"></span> </td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.getDateHeader().map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(index,dt)=>{return (<th key={dt} className=\"checkboxContainer\"> <input type=\"checkbox\" className={\"E\"+empid()+\" D\"+(dt+1)} align=\"center\" name=\"check\" data-index={\"E\"+empid()+\" D\"+(dt+1)} data-toggle=\"modal\" data-target=\"#shiftChangeModal\"  onChange={this.deselectCheckbox.bind(this)}/><span className=\"checkmark1 text-center\"></span></th>)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\n\n\t\t\t\t\t\t<div className=\"col-lg-12 row shiftText\"><b>Change Shift</b><span className=\"mandatoryField\">*</span></div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div className=\"col-lg-12 customMargin5 customPadding15\">\n\n\t\t\t\t\t\t\t\t{this.props.allShift.map( (emp,index)=>{\n\n\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t<div key={index} className=\"form-group col-lg-4 col-md-4 col-sm-6 col-xs-12 row customWidthTab customMargin25Right newBorder\">\t\t\t\t\t\t\t\t\t    \t\t\n\t\t\t\t\t\t\t\t    \t<div className=\"input-group\">\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<label className=\"radioContainer text-left\">Shift {emp.shiftName}\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"radio\" value={emp.shiftName}/>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"checkmark\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<button className=\"col-lg-2 btn btn-primary customWidthBtn customBottomMargin30 customMargin15 pull-right\"> {this.state.action} </button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t  \t</div>\n{/********************************************shift Change Modal Start***********************************************/}\n\n\t\t\t\t\t\n\n\t\t\t\t\t\t<div className=\"modal fade\" id=\"shiftChangeModal\" role=\"dialog\">\n\t\t\t\t\t    \t<div className=\"modal-dialog\">\n\t\t\t\t\t\t      \t<div className=\"modal-content\">\n\t\t\t\t\t\t\t        \n\t\t\t\t\t\t\t        <div className=\"modal-header\">\n\t\t\t\t\t\t\t\t        <button type=\"button\" className=\"close\" data-dismiss=\"modal\">&times;</button>\n\t\t\t\t\t\t\t\t        <h3 className=\"modal-title\"><b><center>Employee Shift Change</center></b></h3>\n\t\t\t\t\t\t\t\t    </div>\n \t\t\t\t\t\t         \n\t\t\t\t\t\t\t\t        <div className=\"col-lg-12 customPadding15\">\t\n\t\t\t\t\t\t\t\t\t    \t<div className=\"form-group col-lg-6 col-md-6 col-sm-6\">\t\t\t\t\t\t\t\t\t    \t\t\n\t\t\t\t\t\t\t\t\t\t    \t\n\t\t\t\t\t\t\t\t\t\t    \t<div className=\"nameEmp\">{empHead ? empHead.shiftName :'Alexander Piercy'}</div>\n\t\t\t\t\t\t\t\t\t\t    \t\t\n\t\t\t\t\t\t\t\t\t    \t</div>\n\t\t\t\t\t\t\t\t\t    \t\n\t\t\t\t\t\t\t\t\t    \t<div className=\"form-group col-lg-6 col-md-6 col-sm-6\">\t\t\t\t\t\t\t\t\t    \t\n\t\t\t\t\t\t\t\t\t    \t\t<div className=\"input-group\">\t\t\t\t\t\t\t\t\t\t    \t\t\n\t\t\t\t\t\t\t\t\t\t    \t\t<input type=\"date\" ref=\"date\" className=\"form-control\" value={(this.state.Year)} onChange={this.handleChange.bind(this)} />\n\t\t\t\t\t\t\t\t\t\t    \t</div>\n\t\t\t\t\t\t\t\t\t    \t</div>\n\t\t\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t        \t<div className=\"col-lg-6 shiftText\"><b>Change Shift</b><span className=\"mandatoryField\">*</span></div>\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12\">\n\n\t\t\t\t\t\t\t\t\t\t{this.props.allShift.map( (emp,index)=>{\n\n\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group col-lg-6 col-md-6 col-sm-6 customSideMargin newBorder\" key={index}>\t\t\t\t\t\t\t\t\t    \t\t\n\t\t\t\t\t\t\t\t\t\t    \t<div className=\"input-group\">\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"radioContainer text-left\">Shift {emp.shiftName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"radio\" value={emp.shiftName}/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"checkmark\"></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\t\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t        <div className=\"modal-footer\">\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<button type=\"button\" data-dismiss=\"modal\" className=\"col-lg-2 btn btn-primary pull-right\" onClick={this.submitBasicInfo.bind(this)}> {this.state.action} </button>\n\t\t\t\t\t\t\t\t\t</div>\t\t    \t\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t    \t\t\t\t\t</div>\n\t\t    \t\t\t\t</div>\n\t\t    \t\t\t</div>\n\t\t    \t\t\n\n{/********************************************Shift Change Modal End*******************************************/}\n{/********************************************Shift History Start*******************************************/}\n\t\t    \t\t\n\t\t    \t\t<div className=\"radioContainer\">\n\n\t\t\t\t\t\t<div className=\"modal fade\" id=\"empShiftHistory\" role=\"dialog\">\n\t\t\t\t\t    \t<div className=\"modal-dialog\">\n\t\t\t\t\t\t      \t<div className=\"modal-content\">\n\t\t\t\t\t\t      \t<div className=\"modal-header\">\n\t\t\t\t\t\t\t        <button type=\"button\" className=\"close\" data-dismiss=\"modal\">&times;</button>\n\t\t\t\t\t\t\t        <h3 className=\"modal-title\"><b><center>Employee Shift History</center></b></h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t        <div className=\"modal-body\">\n\t\t\t\t\t\t\t        \t\n\t\t\t\t\t\t\t        \t<div className=\"col-lg-12\">\t\n\t\t\t\t\t\t\t\t\t    \t<div className=\"form-group col-lg-3 col-md-3 col-sm-3\">\n\t\t\t\t\t\t\t\t\t    \t</div>\t\n\t\t\t\t\t\t\t\t\t    \t<div className=\"form-group col-lg-9 col-md-9 col-sm-9\">\t\n\t\t\t\t\t\t\t\t\t\t    \t<div className=\"form-group col-lg-9 col-md-9 col-sm-9\">\t\n\t\t\t\t\t\t\t\t\t\t\t    \t<div className=\"nameEmp\">(Emp Name)</div>\n\t\t\t\t\t\t\t\t\t\t\t    \t<div className=\"nameEmp\">(Employee Id)</div>\n\t\t\t\t\t\t\t\t\t\t    \t</div>\n\t\t\t\t\t\t\t\t\t\t    \t<div className=\"col-lg-3 col-md-3 col-sm-3\">\n\t\t\t\t\t\t\t\t\t\t    \t\t<img src=\"/images/male.png\" className=\"userImg pull-right\" />\n\t\t\t\t\t\t\t\t\t    \t\t</div>\n\t\t\t\t\t\t\t\t    \t\t</div>\n\t\t\t\t\t\t\t\t    \t</div>\n\n\t\t\t\t\t\t\t\t        <section className=\"modal-body\">\n\t\t\t\t\t\t\t\t\t\t\t<table id=\"table-to-xls\" className=\"table table-bordered table-hovered table-striped\">\n\t\t\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr className=\"bg-primary\"> \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th className=\"text-center\"> Date </th> \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th className=\"text-center\"> Shift Name </th> \t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t</thead>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.allShift.map( (emp,index)=>{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={index} >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\"> {index+1} </td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td id={emp._id} className=\"text-center\"  data-toggle=\"modal\" data-target=\"#empShiftHistory\" onClick={this.displayEmpShiftHistory.bind(this)}> {emp.shiftName} {emp.startTime} {emp.startTimeAmPm} </td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</tbody>\n\n\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t\t    \t\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t        <div className=\"modal-footer\">\n\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-default\" data-dismiss=\"modal\">Close</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</div>\t\t    \t\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t    \t\t\t\t\t\t</section>\n\t\t\t    \t\t\t\t\t</div>\n\t\t    \t\t\t\t\t</div>\n\t\t    \t\t\t\t</div>\n\t\t    \t\t\t</div>\n\t\t    \t\t</div>\n\n{/********************************************Shift History End*******************************************/}\n\n\t\t  \t\t</div>\n\t\t);\n\t};\n}\n\n \nexport default ShiftAllotContainer = withTracker(()=>{\n\tconst shiftSubHandle = Meteor.subscribe(\"allShiftData\");\n\tconst allShiftData = ShiftSetting.find({}).fetch()||[];\n      console.log(\"allShiftData :\",allShiftData);\n\treturn {\n\t\t\"loading\"\t\t: !shiftSubHandle.ready(),\n\t\t\"allShift\" \t\t: allShiftData,\n\t}\n})(ShiftAllot);\n\n\n\n\n"]},"sourceType":"script","hash":"adae72cb1534959860366141ab329671a476b625"}
